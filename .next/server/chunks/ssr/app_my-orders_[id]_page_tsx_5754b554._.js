module.exports=[2906,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(71987),g=a.i(72160),h=a.i(38679),i=a.i(7294),j=a.i(783),k=a.i(60157),l=a.i(65482),m=a.i(67453),n=a.i(41710),o=a.i(83497),p=a.i(10227),q=a.i(62722),r=a.i(56711);let s=[{key:"PENDING",label:"Order Placed",icon:n.Clock},{key:"CONFIRMED",label:"Confirmed",icon:m.CheckCircle2},{key:"PROCESSING",label:"Processing",icon:o.Package},{key:"SHIPPED",label:"Shipped",icon:p.Truck},{key:"OUT_FOR_DELIVERY",label:"Out for Delivery",icon:p.Truck},{key:"DELIVERED",label:"Delivered",icon:m.CheckCircle2}],t=["CANCELLED","RETURNED","REFUNDED"];function u({order:a}){let c,d=(c=a.status,s.findIndex(a=>a.key===c)),e=t.includes(a.status);return(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Order Tracking"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200",children:!e&&d>=0&&(0,b.jsx)("div",{className:"absolute top-0 left-0 w-0.5 bg-primary transition-all duration-500",style:{height:`${d/(s.length-1)*100}%`}})}),(0,b.jsxs)("div",{className:"space-y-6",children:[s.map((c,f)=>{let g=c.icon,h=f<=d&&!e,i=null;return"PENDING"===c.key&&a.createdAt?i=(0,r.format)(new Date(a.createdAt),"MMM dd, yyyy HH:mm"):"SHIPPED"===c.key&&a.shippedAt?i=(0,r.format)(new Date(a.shippedAt),"MMM dd, yyyy HH:mm"):"DELIVERED"===c.key&&a.deliveredAt&&(i=(0,r.format)(new Date(a.deliveredAt),"MMM dd, yyyy HH:mm")),(0,b.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,b.jsx)("div",{className:`relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all ${h?"bg-primary border-primary text-white":"bg-white border-gray-300 text-gray-400"}`,children:(0,b.jsx)(g,{className:"h-6 w-6"})}),(0,b.jsx)("div",{className:"flex-1 pt-1",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:`font-medium ${h?"text-gray-900":"text-gray-500"}`,children:c.label}),i&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:i})]}),f===d&&!e&&(0,b.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-primary text-white rounded",children:"Current"}),f<d&&!e&&(0,b.jsx)(m.CheckCircle2,{className:"h-5 w-5 text-green-600"})]})})]},c.key)}),e&&(0,b.jsxs)("div",{className:"relative flex items-start gap-4",children:[(0,b.jsx)("div",{className:"relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 bg-red-100 border-red-500 text-red-600",children:(0,b.jsx)(q.XCircle,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{className:"flex-1 pt-1",children:[(0,b.jsx)("p",{className:"font-medium text-red-600",children:"CANCELLED"===a.status?"Order Cancelled":"RETURNED"===a.status?"Order Returned":"Order Refunded"}),a.cancelledAt&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:(0,r.format)(new Date(a.cancelledAt),"MMM dd, yyyy HH:mm")})]})]})]})]})]})}var v=a.i(57834),w=a.i(210),x=a.i(24987),y=a.i(11156),z=a.i(41675),A=a.i(4334);function B(){let a=(0,d.useParams)();(0,d.useRouter)();let m=a.id,[n,s]=(0,c.useState)(!1),[t,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!0),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)("");(0,c.useEffect)(()=>{let a=async()=>{try{D(!0);let a=await (0,v.getUserOrderById)(m);B(a.data)}catch(a){F(a.message||"Failed to load order")}finally{D(!1)}};m&&a()},[m]);let M=async()=>{if(!K.trim())return void alert("Please provide a cancellation reason");try{H(!0),await (0,v.cancelOrder)(m,K),J(!1);let a=await (0,v.getUserOrderById)(m);B(a.data)}catch(a){alert(a.message||"Failed to cancel order")}finally{H(!1)}},N=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),O=t&&["PENDING","CONFIRMED","PROCESSING"].includes(t.status)&&!["SHIPPED","OUT_FOR_DELIVERY","DELIVERED"].includes(t.status),P=()=>{s(!n)},Q=()=>{s(!1)};if(C)return(0,b.jsxs)("div",{className:"min-h-screen w-screen overflow-x-hidden bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsx)(h.default,{onMenuToggle:P,isMenuOpen:n}),(0,b.jsx)(i.default,{isMobileMenuOpen:n,onCloseMobileMenu:Q}),(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),(0,b.jsx)(j.default,{})]});if(E||!t)return(0,b.jsxs)("div",{className:"min-h-screen w-screen overflow-x-hidden bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsx)(h.default,{onMenuToggle:P,isMenuOpen:n}),(0,b.jsx)(i.default,{isMobileMenuOpen:n,onCloseMobileMenu:Q}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:(0,b.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,b.jsx)("p",{className:"text-red-800",children:E||"Order not found"}),(0,b.jsx)(e.default,{href:"/my-orders",className:"mt-4 inline-block px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark",children:"Back to Orders"})]})}),(0,b.jsx)(j.default,{})]});let R=t.shippingAddress||{};return t.billingAddress,(0,b.jsxs)("div",{className:"min-h-screen w-screen overflow-x-hidden bg-gray-50",children:[(0,b.jsx)(g.default,{}),(0,b.jsx)(h.default,{onMenuToggle:P,isMenuOpen:n}),(0,b.jsx)(i.default,{isMobileMenuOpen:n,onCloseMobileMenu:Q}),(0,b.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)(e.default,{href:"/my-orders",className:"inline-flex items-center gap-2 text-primary hover:text-primary-dark mb-4",children:[(0,b.jsx)(w.ArrowLeft,{className:"h-4 w-4"}),"Back to Orders"]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Order #",t.orderNumber]}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Placed on ",(0,r.format)(new Date(t.createdAt),"MMMM dd, yyyy")]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(k.default,{status:t.status,size:"lg"}),O&&(0,b.jsxs)("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center gap-2",children:[(0,b.jsx)(q.XCircle,{className:"h-4 w-4"}),"Cancel Order"]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Items"}),(0,b.jsx)("div",{className:"space-y-4",children:t.items?.map(a=>(0,b.jsxs)("div",{className:"flex gap-4 pb-4 border-b border-gray-100 last:border-0",children:[a.productImage?(0,b.jsx)("div",{className:"relative w-24 h-24 rounded-md overflow-hidden border border-gray-200 flex-shrink-0",children:(0,b.jsx)(f.default,{src:a.productImage,alt:a.productName,fill:!0,className:"object-cover"})}):(0,b.jsx)("div",{className:"w-24 h-24 rounded-md bg-gray-100 flex items-center justify-center border border-gray-200 flex-shrink-0",children:(0,b.jsx)(o.Package,{className:"h-8 w-8 text-gray-400"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:a.productName}),a.variantName&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Variant: ",a.variantName]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",a.quantity]}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 mt-2",children:N(Number(a.totalPrice))})]})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(x.MapPin,{className:"h-5 w-5"}),"Shipping Address"]}),(0,b.jsxs)("div",{className:"text-gray-600 space-y-1",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:R.fullName}),(0,b.jsx)("p",{children:R.addressLine1}),R.addressLine2&&(0,b.jsx)("p",{children:R.addressLine2}),(0,b.jsxs)("p",{children:[R.city,", ",R.state," ",R.pincode]}),(0,b.jsx)("p",{children:R.country||"India"}),R.phone&&(0,b.jsxs)("p",{className:"mt-2",children:["Phone: ",R.phone]})]})]}),(0,b.jsx)(u,{order:t}),t.trackingNumber&&(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(p.Truck,{className:"h-5 w-5"}),"Tracking Information"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Tracking Number:"})," ",t.trackingNumber]}),t.carrierName&&(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Carrier:"})," ",t.carrierName]}),t.shippedAt&&(0,b.jsxs)("p",{className:"text-gray-600",children:[(0,b.jsx)("span",{className:"font-medium",children:"Shipped on:"})," ",(0,r.format)(new Date(t.shippedAt),"MMMM dd, yyyy")]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,b.jsx)("span",{children:"Subtotal"}),(0,b.jsx)("span",{children:N(Number(t.subtotal))})]}),t.discountAmount>0&&(0,b.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,b.jsx)("span",{children:"Discount"}),(0,b.jsxs)("span",{children:["-",N(Number(t.discountAmount))]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,b.jsx)("span",{children:"Tax (GST)"}),(0,b.jsx)("span",{children:N(Number(t.taxAmount))})]}),(0,b.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,b.jsx)("span",{children:"Shipping"}),(0,b.jsx)("span",{children:t.shippingAmount>0?N(Number(t.shippingAmount)):"Free"})]}),(0,b.jsxs)("div",{className:"border-t border-gray-200 pt-3 flex justify-between text-lg font-bold text-gray-900",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(A.IndianRupee,{className:"h-5 w-5"}),N(Number(t.totalAmount))]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(y.CreditCard,{className:"h-5 w-5"}),"Payment Information"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Payment Method"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:t.paymentMethod})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Payment Status"}),(0,b.jsx)(l.default,{status:t.paymentStatus,size:"sm"})]}),t.paidAt&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Paid on"}),(0,b.jsx)("p",{className:"text-sm text-gray-900",children:(0,r.format)(new Date(t.paidAt),"MMMM dd, yyyy")})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,b.jsx)(z.Calendar,{className:"h-5 w-5"}),"Order Timeline"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Order Placed"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:(0,r.format)(new Date(t.createdAt),"MMM dd, yyyy HH:mm")})]}),t.shippedAt&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Shipped"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:(0,r.format)(new Date(t.shippedAt),"MMM dd, yyyy HH:mm")})]}),t.deliveredAt&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Delivered"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:(0,r.format)(new Date(t.deliveredAt),"MMM dd, yyyy HH:mm")})]})]})]})]})]})]}),I&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Cancel Order"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to cancel this order? Please provide a reason."}),(0,b.jsx)("textarea",{value:K,onChange:a=>L(a.target.value),placeholder:"Reason for cancellation...",className:"w-full px-4 py-2 border border-gray-300 rounded-md mb-4 min-h-[100px]"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{J(!1),L("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),(0,b.jsx)("button",{onClick:M,disabled:G||!K.trim(),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:G?"Cancelling...":"Confirm Cancellation"})]})]})}),(0,b.jsx)(j.default,{})]})}a.s(["default",()=>B],2906)}];

//# sourceMappingURL=app_my-orders_%5Bid%5D_page_tsx_5754b554._.js.map